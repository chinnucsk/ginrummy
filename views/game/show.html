{% extends "../base.html" %}

{% block javascript %}
<script src="/scripts/application.js" type="text/javascript"></script>
{% endblock %}

{% block content %}
<h1>Game between you and {{ player_two_name }}</h1>
<p>
  {{ player_two_name }} can join the game by visiting:<br />
  <code>http://localhost:8000/game/{{ game_name }}</code>
</p>
<p>
  When you're happy with your hand you can show it to your opponent by
  <a id="knock" href="/game/{{ game_name }}/knock">knocking</a>.
</p>

<div id="main">

  <div id="chat">
    <h2>Chat</h2>
    <ul id="chat_messages"></ul>
    <form action="/game/{{ game_name }}/broadcast" method="post">
      <input type="text" name="message" id="message" />
      <input type="submit" value="Send" />
    </form>
  </div>

  <h2>Zones</h2>
  <h3>Discard pile</h3>
  <ul>
    <li>
      <a href="/game/{{ game_name }}/discard_draw" id="discard">
      {% if top_of_discard %}
        {{ top_of_discard }}
      {% else %}
        Empty
      {% endif %}
      </a>
    </li>
  </ul>

  <h3>Library</h3>
  <ul>
    <li>
      <a href="/game/{{ game_name }}/library_draw" id="library">
        <span id="deck_size">{{ deck_size }}</span> cards
      </a>
    </li>
  </ul>

  <h3>{{ player_two_name }}'s hand</h3>
  <ul>
    <li>
      <span id="opponent_size">{{ opponent_size }}</span> cards
    </li>
  </ul>

  <h2>Your hand</h2>
  <p><span id="player_size">{{ card_count }}</span> cards</p>
  <p><a href="/game/{{ game_name }}/value_sort" id="value_sort">Sort by value</a></p>
  <ul id="player_cards">
  {% for card in your_hand %}
    <li><a href="/game/{{ game_name }}/discard/{{ card }}" class="card">{{ card }}</a></li>
  {% endfor %}
  </ul>

  <h2>Instructions</h2>
  <p>You can draw from the library by pressing CTRL+l. Or from the discard pile by pressing CTRL+d. You can prefix these commands with digits to multiply the number of times they happen. Hitting escape will clear the digits. For example you could type "3, ESC, 1, 0, CTRL+l" to draw 10 cards from the library. But only if you don't have the text box selected.</p>

</div>

{% endblock %}
